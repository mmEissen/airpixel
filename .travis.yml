language: python
python:
- '3.6'
matrix:
  include:
  - python: 3.7
    dist: xenial
    sudo: true
install:
- pip install -r requirements.txt
- pip install .
script:
- black --diff --check airpixel/ setup.py
- pylint airpixel/ setup.py
- pytest
deploy:
  provider: pypi
  user: mmEissen
  password:
    secure: oUUk1+yOFZUACPB17NkUZ/K3NPGD/4e8EfqHCWHpnmU7xtm1eVUhW3TaZOyrGCEfmaAp8pwhDeJ/I/DdfDGLRiKpG52H2s/7wgzYcJ/mYPElgKtDtGGca8L38IZRfGIZnlwLpxRGt9g9kfIle9EMTIhT9EPeoF914zvvQmdkZsD3DIsFaTSMGvw0Uc0dicsG4WPTx/flB/ZbY11FfHMA94AYa75Cs8JG9QnHTZfCqHbzduZuXWYUhwhO0DCEjFcw2iVifTezmjISCwrluuH9XpVGkC7n47WizGRFUJElghPN6FihXuiCfSKcxyUMEulMvn0otpoMwQdl3Mt20vPtfjFLi/a+RHa36MTA0aUcFEsw9nopRau/JoCf40mTt4yLOiQQWc9YeZlqGIAIhSncRU8tuYkJ7syCej7YFVc7du88DGUaHdjUpCOUfSNhe5i4DXVv90LBicZL7dkrUxj8NbA5DhE7TmVv6bMlknhTwZ/TlL3eyuxsmB3R3V747G9DyjPa9uILNecTO4wYb9oTUi94OqwXWSspTNSelkctplso4TaZncpKqfmtfpQDMA3/ipcTemPZf8yZlC51+CcpjRp32gFEngpRD0U5zQgRGu5giqfrrBS6jUG6HcTnhK6larT9wHjFj/7s4feSmz1JFaiKbQTmLtDz4kGEMdvNra8=
  on:
    branch: master
